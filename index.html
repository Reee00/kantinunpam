<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bakar Mantap - Mobile App Prototype</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .phone-container {
            width: 375px;
            height: 812px;
            background: #000;
            border-radius: 40px;
            padding: 8px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            position: relative;
        }

        .screen {
            width: 100%;
            height: 100%;
            background: #fff;
            border-radius: 32px;
            overflow: hidden;
            position: relative;
        }

        .status-bar {
            height: 44px;
            background: #fff;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            font-size: 14px;
            font-weight: 600;
        }

        .page {
            display: none;
            height: calc(100% - 44px);
            overflow-y: auto;
        }

        .page.active {
            display: block;
        }

        /* Splash Screen */
        .splash {
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            color: white;
            padding: 40px;
        }

        .logo {
            width: 120px;
            height: 120px;
            background: rgba(255,255,255,0.2);
            border-radius: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 30px;
            backdrop-filter: blur(10px);
        }

        .app-title {
            font-size: 32px;
            font-weight: bold;
            margin-bottom: 10px;
        }

        .tagline {
            font-size: 16px;
            opacity: 0.9;
            margin-bottom: 40px;
        }

        .get-started-btn {
            background: white;
            color: #ff6b35;
            padding: 15px 40px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .get-started-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        /* Home Screen */
        .home-header {
            background: linear-gradient(135deg, #ff6b35 0%, #f7931e 100%);
            padding: 20px;
            color: white;
        }

        .header-top {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .location {
            display: flex;
            align-items: center;
            font-size: 14px;
        }

        .location::before {
            content: "üìç";
            margin-right: 5px;
        }

        .header-icons {
            display: flex;
            gap: 15px;
        }

        .icon-btn {
            width: 40px;
            height: 40px;
            background: rgba(255,255,255,0.2);
            border: none;
            border-radius: 20px;
            color: white;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .welcome-text {
            font-size: 24px;
            font-weight: bold;
            margin-bottom: 5px;
        }

        .subtitle {
            font-size: 14px;
            opacity: 0.9;
        }

        .search-bar {
            margin: 20px;
            position: relative;
        }

        .search-input {
            width: 100%;
            padding: 15px 50px 15px 20px;
            border: 1px solid #ddd;
            border-radius: 25px;
            font-size: 16px;
            background: #f8f9fa;
        }

        .search-icon {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            color: #999;
        }

        .quick-actions {
            padding: 0 20px 20px;
        }

        .section-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 15px;
            color: #333;
        }

        .action-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
        }

        .action-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .action-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .action-icon {
            font-size: 30px;
            margin-bottom: 10px;
        }

        .action-title {
            font-weight: 600;
            color: #333;
        }

        /* Menu Screen */
        .menu-header {
            background: white;
            padding: 20px;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .back-btn {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: #ff6b35;
        }

        .menu-title {
            font-size: 20px;
            font-weight: 600;
            color: #333;
        }

        .menu-categories {
            display: flex;
            padding: 15px 20px;
            gap: 15px;
            overflow-x: auto;
            border-bottom: 1px solid #eee;
        }

        .category-btn {
            padding: 10px 20px;
            border: 2px solid #ff6b35;
            border-radius: 25px;
            background: white;
            color: #ff6b35;
            font-weight: 600;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s ease;
        }

        .category-btn.active {
            background: #ff6b35;
            color: white;
        }

        .menu-items {
            padding: 20px;
        }

        .menu-item {
            background: white;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            display: flex;
            gap: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .menu-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.15);
        }

        .item-image {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 30px;
            color: white;
        }

        .item-info {
            flex: 1;
        }

        .item-name {
            font-size: 16px;
            font-weight: 600;
            color: #333;
            margin-bottom: 5px;
        }

        .item-description {
            font-size: 12px;
            color: #666;
            margin-bottom: 10px;
            line-height: 1.4;
        }

        .item-price {
            font-size: 16px;
            font-weight: 600;
            color: #ff6b35;
        }

        .spice-level {
            display: flex;
            gap: 2px;
            margin-bottom: 5px;
        }

        .chili {
            color: #ff4444;
            font-size: 12px;
        }

        .add-btn {
            background: #ff6b35;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 15px;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            align-self: flex-end;
        }

        /* Product Detail */
        .product-detail {
            background: white;
        }

        .product-image-container {
            height: 300px;
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        .product-image-large {
            font-size: 120px;
            color: white;
        }

        .back-btn-detail {
            position: absolute;
            top: 20px;
            left: 20px;
            background: rgba(255,255,255,0.2);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 20px;
            color: white;
            font-size: 20px;
            cursor: pointer;
            backdrop-filter: blur(10px);
        }

        .product-info {
            padding: 30px 20px;
        }

        .product-name {
            font-size: 24px;
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }

        .product-price {
            font-size: 20px;
            font-weight: 600;
            color: #ff6b35;
            margin-bottom: 15px;
        }

        .product-description {
            color: #666;
            line-height: 1.6;
            margin-bottom: 20px;
        }

        .customization {
            margin-bottom: 30px;
        }

        .custom-title {
            font-size: 16px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .spice-options {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        .spice-option {
            padding: 8px 15px;
            border: 2px solid #ddd;
            border-radius: 20px;
            background: white;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
        }

        .spice-option.selected {
            border-color: #ff6b35;
            background: #ff6b35;
            color: white;
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .qty-btn {
            width: 40px;
            height: 40px;
            border: 2px solid #ff6b35;
            background: white;
            color: #ff6b35;
            border-radius: 20px;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .qty-btn:hover {
            background: #ff6b35;
            color: white;
        }

        .qty-display {
            font-size: 18px;
            font-weight: 600;
            min-width: 30px;
            text-align: center;
        }

        .add-to-cart-btn {
            width: 100%;
            background: #ff6b35;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .add-to-cart-btn:hover {
            background: #e55a2b;
            transform: translateY(-2px);
        }

        /* Cart Screen */
        .cart-items {
            padding: 20px;
        }

        .cart-item {
            background: white;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            display: flex;
            gap: 15px;
            align-items: center;
        }

        .cart-item-info {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 600;
            margin-bottom: 5px;
        }

        .cart-item-price {
            color: #ff6b35;
            font-weight: 600;
        }

        .cart-qty-controls {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .cart-qty-btn {
            width: 30px;
            height: 30px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 15px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .checkout-summary {
            background: white;
            margin: 20px;
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }

        .summary-total {
            border-top: 1px solid #eee;
            padding-top: 10px;
            font-weight: 600;
            font-size: 18px;
        }

        .checkout-btn {
            width: calc(100% - 40px);
            margin: 0 20px 20px;
            background: #ff6b35;
            color: white;
            border: none;
            padding: 15px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
        }

        /* Navigation */
        .bottom-nav {
            position: fixed;
            bottom: 8px;
            left: 50%;
            transform: translateX(-50%);
            width: 359px;
            background: white;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            border-radius: 0 0 32px 32px;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            cursor: pointer;
            padding: 10px;
            border-radius: 10px;
            transition: all 0.3s ease;
        }

        .nav-item.active {
            background: #ffe8e0;
            color: #ff6b35;
        }

        .nav-icon {
            font-size: 20px;
        }

        .nav-label {
            font-size: 12px;
            font-weight: 500;
        }

        .cart-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: #ff4444;
            color: white;
            border-radius: 10px;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: 600;
        }

        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-out;
        }

        /* Responsive adjustments */
        @media (max-width: 400px) {
            .phone-container {
                width: 100%;
                max-width: 375px;
                height: 100vh;
                border-radius: 0;
            }
            
            .screen {
                border-radius: 0;
            }
        }
    </style>
</head>
<body>
    <div class="phone-container">
        <div class="screen">
            <!-- Status Bar -->
            <div class="status-bar">
                <span>9:41</span>
                <span>‚óè‚óè‚óè‚óè‚óè 100%</span>
            </div>

            <!-- Splash Screen -->
            <div class="page active" id="splash">
                <div class="splash">
                    <div class="logo">üî•</div>
                    <h1 class="app-title">Bakar Mantap</h1>
                    <p class="tagline">Nasi Bakar Asli Indonesia</p>
                    <button class="get-started-btn" onclick="showPage('home')">Mulai Pesan</button>
                </div>
            </div>

            <!-- Home Screen -->
            <div class="page" id="home">
                <div class="home-header">
                    <div class="header-top">
                        <div class="location">Jakarta Selatan</div>
                        <div class="header-icons">
                            <button class="icon-btn">üë§</button>
                            <button class="icon-btn" onclick="showPage('cart')" style="position: relative;">
                                üõí
                                <span class="cart-badge" id="cart-count">0</span>
                            </button>
                        </div>
                    </div>
                    <h2 class="welcome-text">Selamat Datang!</h2>
                    <p class="subtitle">Pilih nasi bakar favoritmu</p>
                </div>

                <div class="search-bar">
                    <input type="text" class="search-input" placeholder="Cari menu favorit...">
                    <span class="search-icon">üîç</span>
                </div>

                <div class="quick-actions">
                    <h3 class="section-title">Menu Populer</h3>
                    <div class="action-grid">
                        <div class="action-card" onclick="showPage('menu')">
                            <div class="action-icon">üçö</div>
                            <div class="action-title">Nasi Bakar</div>
                        </div>
                        <div class="action-card">
                            <div class="action-icon">ü•§</div>
                            <div class="action-title">Minuman</div>
                        </div>
                        <div class="action-card">
                            <div class="action-icon">üéØ</div>
                            <div class="action-title">Promo Hari Ini</div>
                        </div>
                        <div class="action-card">
                            <div class="action-icon">‚≠ê</div>
                            <div class="action-title">Poin Saya</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Menu Screen -->
            <div class="page" id="menu">
                <div class="menu-header">
                    <button class="back-btn" onclick="showPage('home')">‚Üê</button>
                    <h2 class="menu-title">Menu Nasi Bakar</h2>
                </div>

                <div class="menu-categories">
                    <button class="category-btn active">Semua</button>
                    <button class="category-btn">Ayam</button>
                    <button class="category-btn">Seafood</button>
                    <button class="category-btn">Paket</button>
                </div>

                <div class="menu-items">
                    <div class="menu-item" onclick="showProductDetail('ayam')">
                        <div class="item-image">üêî</div>
                        <div class="item-info">
                            <h4 class="item-name">Nasi Bakar Ayam</h4>
                            <div class="spice-level">
                                <span class="chili">üå∂Ô∏èüå∂Ô∏èüå∂Ô∏è</span>
                            </div>
                            <p class="item-description">Nasi gurih dibakar dengan potongan ayam bumbu kecap manis pedas</p>
                            <div class="item-price">Rp 25.000</div>
                        </div>
                        <button class="add-btn" onclick="event.stopPropagation(); addToCart('Nasi Bakar Ayam', 25000)">+</button>
                    </div>

                    <div class="menu-item" onclick="showProductDetail('cumi')">
                        <div class="item-image">ü¶ë</div>
                        <div class="item-info">
                            <h4 class="item-name">Nasi Bakar Cumi</h4>
                            <div class="spice-level">
                                <span class="chili">üå∂Ô∏èüå∂Ô∏èüå∂Ô∏èüå∂Ô∏è</span>
                            </div>
                            <p class="item-description">Nasi bakar dengan cumi segar bumbu rica-rica pedas manis</p>
                            <div class="item-price">Rp 28.000</div>
                        </div>
                        <button class="add-btn" onclick="event.stopPropagation(); addToCart('Nasi Bakar Cumi', 28000)">+</button>
                    </div>

                    <div class="menu-item" onclick="showProductDetail('tuna')">
                        <div class="item-image">üêü</div>
                        <div class="item-info">
                            <h4 class="item-name">Nasi Bakar Tuna</h4>
                            <div class="spice-level">
                                <span class="chili">üå∂Ô∏èüå∂Ô∏è</span>
                            </div>
                            <p class="item-description">Nasi bakar dengan ikan tuna segar bumbu woku khas Manado</p>
                            <div class="item-price">Rp 30.000</div>
                        </div>
                        <button class="add-btn" onclick="event.stopPropagation(); addToCart('Nasi Bakar Tuna', 30000)">+</button>
                    </div>

                    <div class="menu-item" onclick="showProductDetail('teri')">
                        <div class="item-image">üê†</div>
                        <div class="item-info">
                            <h4 class="item-name">Nasi Bakar Teri</h4>
                            <div class="spice-level">
                                <span class="chili">üå∂Ô∏èüå∂Ô∏è</span>
                            </div>
                            <p class="item-description">Nasi bakar dengan teri medan goreng balado dan kerupuk</p>
                            <div class="item-price">Rp 22.000</div>
                        </div>
                        <button class="add-btn" onclick="event.stopPropagation(); addToCart('Nasi Bakar Teri', 22000)">+</button>
                    </div>
                </div>
            </div>

            <!-- Product Detail Screen -->
            <div class="page" id="product-detail">
                <div class="product-detail">
                    <div class="product-image-container">
                        <button class="back-btn-detail" onclick="showPage('menu')">‚Üê</button>
                        <div class="product-image-large" id="product-emoji">üêî</div>
                    </div>
                    
                    <div class="product-info">
                        <h2 class="product-name" id="product-title">Nasi Bakar Ayam</h2>
                        <div class="product-price" id="product-price">Rp 25.000</div>
                        <p class="product-description" id="product-desc">
                            Nasi yang dimasak dengan santan kelapa kemudian dibakar dengan daun pisang hingga harum. 
                            Disajikan dengan potongan ayam yang telah dibumbui dengan kecap manis, bawang merah, 
                            bawang putih, dan cabai. Dilengkapi dengan sambal terasi dan kerupuk.
                        </p>

                        <div class="customization">
                            <h4 class="custom-title">Level Kepedasan</h4>
                            <div class="spice-options">
                                <div class="spice-option selected" onclick="selectSpice(this)">Tidak Pedas</div>
                                <div class="spice-option" onclick="selectSpice(this)">Sedang</div>
                                <div class="spice-option" onclick="selectSpice(this)">Pedas</div>
                                <div class="spice-option" onclick="selectSpice(this)">Extra Pedas</div>
                            </div>
                        </div>

                        <div class="quantity-selector">
                            <button class="qty-btn" onclick="changeQuantity(-1)">‚àí</button>
                            <span class="qty-display" id="quantity">1</span>
                            <button class="qty-btn" onclick="changeQuantity(1)">+</button>
                        </div>

                        <button class="add-to-cart-btn" onclick="addToCartFromDetail()">
                            Tambah ke Keranjang - <span id="total-price">Rp 25.000</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Cart Screen -->
            <div class="page" id="cart">
                <div class="menu-header">
                    <button class="back-btn" onclick="showPage('home')">‚Üê</button>
                    <h2 class="menu-title">Keranjang Belanja</h2>
                </div>

                <div class="cart-items" id="cart-items-container">
                    <!-- Cart items will be dynamically added here -->
                </div>

                <div class="checkout-summary">
                    <div class="summary-row">
                        <span>Subtotal</span>
                        <span id="subtotal">Rp 0</span>
                    </div>
                    <div class="summary-row">
                        <span>Pajak (10%)</span>
                        <span id="tax">Rp 0</span>
                    </div>
                    <div class="summary-row summary-total">
                        <span>Total</span>
                        <span id="total">Rp 0</span>
                    </div>
                </div>

                <button class="checkout-btn" onclick="alert('Fitur checkout akan segera hadir!')">
                    Lanjut ke Pembayaran
                </button>
            </div>

            <!-- Bottom Navigation -->
            <div class="bottom-nav">
                <div class="nav-item active" onclick="showPage('home'); setActiveNav(this)">
                    <span class="nav-icon">üè†</span>
                    <span class="nav-label">Home</span>
                </div>
                <div class="nav-item" onclick="showPage('menu'); setActiveNav(this)">
                    <span class="nav-icon">üìã</span>
                    <span class="nav-label">Menu</span>
                </div>
                <div class="nav-item" onclick="showPage('cart'); setActiveNav(this)" style="position: relative;">
                    <span class="nav-icon">üõí</span>
                    <span class="nav-label">Keranjang</span>
                    <span class="cart-badge" id="nav-cart-count">0</span>
                </div>
                <div class="nav-item">
                    <span class="nav-icon">üë§</span>
                    <span class="nav-label">Profil</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let cart = [];
        let currentQuantity = 1;
        let currentPrice = 25000;
        let currentProduct = {
            name: 'Nasi Bakar Ayam',
            price: 25000,
            emoji: 'üêî',
            description: 'Nasi yang dimasak dengan santan kelapa kemudian dibakar dengan daun pisang hingga harum. Disajikan dengan potongan ayam yang telah dibumbui dengan kecap manis, bawang merah, bawang putih, dan cabai. Dilengkapi dengan sambal terasi dan kerupuk.'
        };

        // Product data
        const products = {
            ayam: {
                name: 'Nasi Bakar Ayam',
                price: 25000,
                emoji: 'üêî',
                description: 'Nasi yang dimasak dengan santan kelapa kemudian dibakar dengan daun pisang hingga harum. Disajikan dengan potongan ayam yang telah dibumbui dengan kecap manis, bawang merah, bawang putih, dan cabai. Dilengkapi dengan sambal terasi dan kerupuk.'
            },
            cumi: {
                name: 'Nasi Bakar Cumi',
                price: 28000,
                emoji: 'ü¶ë',
                description: 'Nasi bakar dengan cumi segar yang dimasak dengan bumbu rica-rica pedas manis khas Manado. Tekstur cumi yang kenyal berpadu dengan nasi yang gurih dan harum daun pisang.'
            },
            tuna: {
                name: 'Nasi Bakar Tuna',
                price: 30000,
                emoji: 'üêü',
                description: 'Nasi bakar dengan ikan tuna segar yang dimasak dengan bumbu woku khas Manado. Rasa segar ikan tuna berpadu dengan rempah-rempah tradisional yang kaya cita rasa.'
            },
            teri: {
                name: 'Nasi Bakar Teri',
                price: 22000,
                emoji: 'üê†',
                description: 'Nasi bakar dengan teri medan yang digoreng crispy dan dibumbui balado. Dilengkapi dengan kerupuk dan sambal terasi. Pilihan ekonomis dengan rasa yang tidak kalah lezat.'
            }
        };

        // Page navigation functions
        function showPage(pageId) {
            // Hide all pages
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));
            
            // Show target page
            const targetPage = document.getElementById(pageId);
            if (targetPage) {
                targetPage.classList.add('active');
                targetPage.classList.add('fade-in');
                
                // Remove animation class after animation completes
                setTimeout(() => {
                    targetPage.classList.remove('fade-in');
                }, 500);
            }

            // Update cart display when showing cart page
            if (pageId === 'cart') {
                updateCartDisplay();
            }
        }

        function showProductDetail(productKey) {
            const product = products[productKey];
            if (product) {
                currentProduct = product;
                currentPrice = product.price;
                currentQuantity = 1;

                // Update product detail elements
                document.getElementById('product-emoji').textContent = product.emoji;
                document.getElementById('product-title').textContent = product.name;
                document.getElementById('product-price').textContent = formatPrice(product.price);
                document.getElementById('product-desc').textContent = product.description;
                document.getElementById('quantity').textContent = '1';
                document.getElementById('total-price').textContent = formatPrice(product.price);

                // Reset spice selection
                const spiceOptions = document.querySelectorAll('.spice-option');
                spiceOptions.forEach((option, index) => {
                    option.classList.toggle('selected', index === 0);
                });

                showPage('product-detail');
            }
        }

        // Cart functions
        function addToCart(name, price) {
            const existingItem = cart.find(item => item.name === name);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({
                    name: name,
                    price: price,
                    quantity: 1,
                    emoji: getEmojiByName(name)
                });
            }
            
            updateCartCount();
            showToast(`${name} ditambahkan ke keranjang`);
        }

        function addToCartFromDetail() {
            const selectedSpice = document.querySelector('.spice-option.selected').textContent;
            const itemName = `${currentProduct.name} (${selectedSpice})`;
            
            const existingItem = cart.find(item => item.name === itemName);
            
            if (existingItem) {
                existingItem.quantity += currentQuantity;
            } else {
                cart.push({
                    name: itemName,
                    price: currentProduct.price,
                    quantity: currentQuantity,
                    emoji: currentProduct.emoji,
                    spiceLevel: selectedSpice
                });
            }
            
            updateCartCount();
            showToast(`${itemName} ditambahkan ke keranjang`);
            showPage('menu');
        }

        function removeFromCart(index) {
            cart.splice(index, 1);
            updateCartCount();
            updateCartDisplay();
        }

        function updateCartItemQuantity(index, change) {
            if (cart[index]) {
                cart[index].quantity += change;
                if (cart[index].quantity <= 0) {
                    removeFromCart(index);
                } else {
                    updateCartDisplay();
                }
            }
        }

        function updateCartCount() {
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const cartBadges = document.querySelectorAll('.cart-badge');
            cartBadges.forEach(badge => {
                badge.textContent = totalItems;
                badge.style.display = totalItems > 0 ? 'flex' : 'none';
            });
        }

        function updateCartDisplay() {
            const container = document.getElementById('cart-items-container');
            const subtotalEl = document.getElementById('subtotal');
            const taxEl = document.getElementById('tax');
            const totalEl = document.getElementById('total');

            if (cart.length === 0) {
                container.innerHTML = `
                    <div style="text-align: center; padding: 40px; color: #999;">
                        <div style="font-size: 48px; margin-bottom: 20px;">üõí</div>
                        <h3>Keranjang Kosong</h3>
                        <p>Tambahkan menu favorit Anda</p>
                        <button onclick="showPage('menu')" style="margin-top: 20px; background: #ff6b35; color: white; border: none; padding: 10px 20px; border-radius: 20px; cursor: pointer;">
                            Lihat Menu
                        </button>
                    </div>
                `;
                subtotalEl.textContent = 'Rp 0';
                taxEl.textContent = 'Rp 0';
                totalEl.textContent = 'Rp 0';
                return;
            }

            let subtotal = 0;
            container.innerHTML = cart.map((item, index) => {
                const itemTotal = item.price * item.quantity;
                subtotal += itemTotal;
                
                return `
                    <div class="cart-item">
                        <div class="item-image">${item.emoji}</div>
                        <div class="cart-item-info">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-price">${formatPrice(item.price)} x ${item.quantity}</div>
                        </div>
                        <div class="cart-qty-controls">
                            <button class="cart-qty-btn" onclick="updateCartItemQuantity(${index}, -1)">‚àí</button>
                            <span>${item.quantity}</span>
                            <button class="cart-qty-btn" onclick="updateCartItemQuantity(${index}, 1)">+</button>
                        </div>
                    </div>
                `;
            }).join('');

            const tax = Math.round(subtotal * 0.1);
            const total = subtotal + tax;

            subtotalEl.textContent = formatPrice(subtotal);
            taxEl.textContent = formatPrice(tax);
            totalEl.textContent = formatPrice(total);
        }

        // Utility functions
        function formatPrice(price) {
            return 'Rp ' + price.toLocaleString('id-ID');
        }

        function getEmojiByName(name) {
            if (name.includes('Ayam')) return 'üêî';
            if (name.includes('Cumi')) return 'ü¶ë';
            if (name.includes('Tuna')) return 'üêü';
            if (name.includes('Teri')) return 'üê†';
            return 'üçö';
        }

        function showToast(message) {
            // Create toast element
            const toast = document.createElement('div');
            toast.style.cssText = `
                position: fixed;
                top: 100px;
                left: 50%;
                transform: translateX(-50%);
                background: rgba(0,0,0,0.8);
                color: white;
                padding: 12px 24px;
                border-radius: 20px;
                font-size: 14px;
                z-index: 1000;
                animation: slideDown 0.3s ease-out;
            `;
            toast.textContent = message;
            
            // Add keyframes for animation
            if (!document.querySelector('#toast-styles')) {
                const style = document.createElement('style');
                style.id = 'toast-styles';
                style.textContent = `
                    @keyframes slideDown {
                        from { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                        to { opacity: 1; transform: translateX(-50%) translateY(0); }
                    }
                    @keyframes slideUp {
                        from { opacity: 1; transform: translateX(-50%) translateY(0); }
                        to { opacity: 0; transform: translateX(-50%) translateY(-20px); }
                    }
                `;
                document.head.appendChild(style);
            }
            
            document.body.appendChild(toast);
            
            // Remove toast after 2 seconds
            setTimeout(() => {
                toast.style.animation = 'slideUp 0.3s ease-out';
                setTimeout(() => {
                    if (document.body.contains(toast)) {
                        document.body.removeChild(toast);
                    }
                }, 300);
            }, 2000);
        }

        // Product detail functions
        function selectSpice(element) {
            document.querySelectorAll('.spice-option').forEach(el => el.classList.remove('selected'));
            element.classList.add('selected');
        }

        function changeQuantity(change) {
            currentQuantity = Math.max(1, currentQuantity + change);
            document.getElementById('quantity').textContent = currentQuantity;
            document.getElementById('total-price').textContent = formatPrice(currentPrice * currentQuantity);
        }

        // Navigation functions
        function setActiveNav(element) {
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            element.classList.add('active');
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            // Auto-advance from splash screen
            setTimeout(() => {
                showPage('home');
            }, 2000);
            
            // Initialize cart count
            updateCartCount();
        });

        // Add some sample items for demo
        setTimeout(() => {
            if (cart.length === 0) {
                addToCart('Nasi Bakar Ayam', 25000);
            }
        }, 3000);
    </script>
</body>
</html>
